{"ast":null,"code":"import Cart from\"../Cart/cart\";import{Link,useParams,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{ShopperDetails}from\"../Shopper-Details/shopper-details\";import{useCookies,Cookies}from\"react-cookie\";import'./Shopper-Category.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function ShopperCategory(){const params=useParams();const[products,setProducts]=useState([]);const[cartItems,setCartItems]=useState([]);const[cartItemsCount,setCartItemsCount]=useState(0);const[cookies,setCookie,removeCookie]=useCookies([\"user\"]);const navigate=useNavigate();function removeCartItem(e){alert(\"Remove from cart\");cartItems.splice(e.currentTarget.id,1);setCartItemsCount(cartItems.length);}function clear(){alert(\"clear cart\");setCartItems([]);setCartItemsCount(0);}useEffect(()=>{if(!cookies[\"userId\"]){navigate(\"/login\");}axios({method:\"get\",url:\"https://fakestoreapi.com/products/category/\".concat(params.catname)}).then(response=>{setProducts(response.data);});});function addToCart(e){// alert(e.currentTarget.name);\naxios.get(\"http://fakestoreapi.com/products/\".concat(e.currentTarget.name)).then(response=>{alert(\"Added \".concat(response.data.title,\" to cart\"));cartItems.push(response.data);setCartItemsCount(cartItems.length);});console.log(cartItems);console.log(cartItemsCount);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-capitalize\",children:[params.catname,\" - \",cookies[\"userId\"]]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger position-relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-cart4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-circle bg-primary position-absolute\",children:cartItemsCount})]})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mt-3 row\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"col-10 d-flex flex-wrap justify-content-center\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"card m-1 p-1\",children:[/*#__PURE__*/_jsx(\"img\",{alt:product.title,src:product.image,className:\"card-img-top\",height:150}),/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"p\",{children:product.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"dd\",{children:product.price}),/*#__PURE__*/_jsx(\"dt\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"dd\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-star-fill text success\"}),\" \",product.rating.rate,\" [\",product.rating.count,\"]\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsxs(\"button\",{name:product.id,onClick:addToCart,className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-cart4\"}),\"Add to Cart\"]})})]},product.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Cart Items\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Preview\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"\",children:item.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,height:50})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{name:item.id,onClick:removeCartItem,className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-trash\"})})})]}))}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,children:/*#__PURE__*/_jsxs(\"button\",{onClick:clear,className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-trash\"}),\" Clear\"]})})})})]})]})]})]})});}","map":{"version":3,"names":["Cart","Link","useParams","useNavigate","useEffect","useState","axios","ShopperDetails","useCookies","Cookies","jsxs","_jsxs","jsx","_jsx","ShopperCategory","params","products","setProducts","cartItems","setCartItems","cartItemsCount","setCartItemsCount","cookies","setCookie","removeCookie","navigate","removeCartItem","e","alert","splice","currentTarget","id","length","clear","method","url","concat","catname","then","response","data","addToCart","get","name","title","push","console","log","children","className","map","product","alt","src","image","height","price","rating","rate","count","onClick","item","colSpan"],"sources":["D:/My Projects/shopper-template-react/src/Shopper-Category/shopper-category.js"],"sourcesContent":["import Cart from \"../Cart/cart\";\r\n\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ShopperDetails } from \"../Shopper-Details/shopper-details\";\r\nimport { useCookies, Cookies } from \"react-cookie\";\r\nimport './Shopper-Category.css';\r\n\r\nexport function ShopperCategory() {\r\n    const params = useParams();\r\n    const [products, setProducts] = useState([]);\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [cartItemsCount, setCartItemsCount] = useState(0);\r\n    const [cookies, setCookie, removeCookie] = useCookies([\"user\"]);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    function removeCartItem(e) {\r\n        alert(`Remove from cart`);\r\n        cartItems.splice(e.currentTarget.id, 1);\r\n        setCartItemsCount(cartItems.length);\r\n    }\r\n\r\n    function clear() {\r\n        alert(`clear cart`);\r\n        setCartItems([]);\r\n        setCartItemsCount(0);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!cookies[\"userId\"]) {\r\n            navigate(\"/login\");\r\n        }\r\n        axios({\r\n            method: \"get\",\r\n            url: `https://fakestoreapi.com/products/category/${params.catname}`,\r\n        }).then((response) => {\r\n            setProducts(response.data);\r\n        });\r\n    });\r\n    function addToCart(e) {\r\n        // alert(e.currentTarget.name);\r\n        axios\r\n            .get(`http://fakestoreapi.com/products/${e.currentTarget.name}`)\r\n            .then((response) => {\r\n                alert(`Added ${response.data.title} to cart`);\r\n                cartItems.push(response.data);\r\n                setCartItemsCount(cartItems.length);\r\n            });\r\n        console.log(cartItems);\r\n        console.log(cartItemsCount);\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                    <h2 className=\"text-capitalize\">{params.catname} - {cookies[\"userId\"]}</h2>\r\n                    <div>\r\n                        <button className=\"btn btn-danger position-relative\">\r\n                            <span className=\"bi bi-cart4\"></span>\r\n                            <span className=\"badge rounded-circle bg-primary position-absolute\">\r\n                                {cartItemsCount}\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <section className=\"mt-3 row\">\r\n                    <main className=\"col-10 d-flex flex-wrap justify-content-center\">\r\n                        {products.map((product) => (\r\n                            <div key={product.id} className=\"card m-1 p-1\">\r\n                                <img alt={product.title} src={product.image} className=\"card-img-top\" height={150} />\r\n                                <div className=\"card-header\">\r\n                                    <p>{product.title}</p>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <dl>\r\n                                        <dt>Price</dt>\r\n                                        <dd>{product.price}</dd>\r\n                                        <dt>Rating</dt>\r\n                                        <dd>\r\n                                            <span className=\"bi bi-star-fill text success\"></span>{\" \"}\r\n                                            {product.rating.rate} [{product.rating.count}]\r\n                                        </dd>\r\n                                    </dl>\r\n                                </div>\r\n                                <div className=\"card-footer\">\r\n                                    <button\r\n                                        name={product.id}\r\n                                        onClick={addToCart}\r\n                                        className=\"btn btn-danger\"\r\n                                    >\r\n                                        <span className=\"bi bi-cart4\"></span>Add to Cart\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </main>\r\n                    <div className=\"col-2\">\r\n                        <h3>Your Cart Items</h3>\r\n                        <table className=\"table table-hover\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Title</th>\r\n                                    <th>Preview</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {cartItems.map((item) => (\r\n                                    <tr>\r\n                                        <td className=\"\">{item.title}</td>\r\n                                        <td>\r\n                                            <img src={item.image} height={50} />\r\n                                        </td>\r\n                                        <td>\r\n                                            <button\r\n                                                name={item.id}\r\n                                                onClick={removeCartItem}\r\n                                                className=\"btn btn-danger\"\r\n                                            >\r\n                                                <span className=\"bi bi-trash\"></span>\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <td colSpan={3}>\r\n                                        <button onClick={clear} className=\"btn btn-primary\">\r\n                                            <span className=\"bi bi-trash\"></span> Clear\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}