{"ast":null,"code":"import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as yup from\"yup\";import{useNavigate,Link,useParams}from\"react-router-dom\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function CrudEdit(){const navigate=useNavigate();const params=useParams();const[products,setProducts]=useState([{ProductID:0,Name:\"\",Price:0,Stock:true}]);function HandleProductChange(e){setProducts(e.target.value);}useEffect(()=>{axios({method:\"get\",url:\"http://127.0.0.1:8080/details/\".concat(params.id)}).then(response=>{setProducts(response.data);// alert(\"Record Updated Successfully\")\n// navigate(\"/products\")\n});},[params.id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Product\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{ProductID:products.ProductID,Name:products.Name,Price:products.Price,Stock:products.Stock}// validationSchema={\n//     yup.object({\n//         Name: yup\n//             .string()\n//             .required(\"Name is Required\"),\n//         Price: yup\n//             .number()\n//             .min(1)\n//             .required(\"Password is Required\"),\n//         Stock: yup\n//             .boolean()\n//             .required(\"Stock is Required\")\n//     })\n// }\n,onsubmit:values=>{axios({method:\"put\",url:\"http://127.0.0.1:8080/updateproduct/\".concat(params.id),data:values}).then(response=>{setProducts(products.Name);setProducts(products.Price);setProducts(products.Stock);alert(\"Record Updated Successfully\");navigate(\"/products\");});},children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Field,{type:\"text\",onChange:HandleProductChange,name:\"Name\",value:products[0].Name})}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Name\"})}),/*#__PURE__*/_jsx(\"dt\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Field,{type:\"number\",onChange:HandleProductChange,name:\"Price\",value:products[0].Price})}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Price\"})}),/*#__PURE__*/_jsx(\"dt\",{children:\"Stock\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"form-switch\",children:[/*#__PURE__*/_jsx(Field,{className:\"form-check-input\",type:\"checkbox\",name:\"Stock\",checked:products[0].Stock}),\"Available\"]}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Stock\"})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success px-4\",children:\"Save\"}),/*#__PURE__*/_jsx(Link,{className:\"ms-3\",to:\"/products\",children:\"View Products\"})]})})]});}","map":{"version":3,"names":["Formik","Form","Field","ErrorMessage","yup","useNavigate","Link","useParams","axios","useEffect","useState","jsx","_jsx","jsxs","_jsxs","CrudEdit","navigate","params","products","setProducts","ProductID","Name","Price","Stock","HandleProductChange","e","target","value","method","url","concat","id","then","response","data","className","children","initialValues","onsubmit","values","alert","type","onChange","name","checked","to"],"sources":["D:/My Projects/shopper-template-react/src/crud-operations/crud-edit.js"],"sourcesContent":["import { Formik, Form, Field, ErrorMessage } from \"formik\"\r\nimport * as yup from \"yup\"\r\nimport { useNavigate, Link, useParams } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport function CrudEdit() {\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n    const [products, setProducts] = useState([{ ProductID: 0, Name: \"\", Price: 0, Stock: true }]);\r\n\r\nfunction HandleProductChange(e){\r\n    setProducts(e.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: \"get\",\r\n            url: `http://127.0.0.1:8080/details/${params.id}`\r\n\r\n        }).then((response) => {\r\n            setProducts(response.data)\r\n            // alert(\"Record Updated Successfully\")\r\n            // navigate(\"/products\")\r\n        })\r\n    }, [params.id])\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <h2>Update Product</h2>\r\n            <Formik\r\n                initialValues={{\r\n                    ProductID: products.ProductID,\r\n                    Name: products.Name,\r\n                    Price: products.Price,\r\n                    Stock: products.Stock\r\n                }}\r\n                // validationSchema={\r\n                //     yup.object({\r\n                //         Name: yup\r\n                //             .string()\r\n                //             .required(\"Name is Required\"),\r\n                //         Price: yup\r\n                //             .number()\r\n                //             .min(1)\r\n                //             .required(\"Password is Required\"),\r\n                //         Stock: yup\r\n                //             .boolean()\r\n                //             .required(\"Stock is Required\")\r\n                //     })\r\n                // }\r\n                onsubmit={\r\n                    (values) => {\r\n                        axios({\r\n                            method: \"put\",\r\n                            url: `http://127.0.0.1:8080/updateproduct/${params.id}`,\r\n                            data: values\r\n                        }).then((response) => {\r\n                            setProducts(products.Name)\r\n                            setProducts(products.Price)\r\n                            setProducts(products.Stock)\r\n                            alert(\"Record Updated Successfully\")\r\n                            navigate(\"/products\")\r\n                        })\r\n                    }}\r\n\r\n\r\n\r\n            >\r\n                <Form>\r\n                    <dl>\r\n\r\n                        <dt>Name</dt>\r\n                        <dd><Field type=\"text\" onChange={HandleProductChange} name=\"Name\" value={products[0].Name} /></dd>\r\n                        <dd className=\"text-danger\"><ErrorMessage name=\"Name\" /></dd>\r\n                        <dt>Price</dt>\r\n                        <dd><Field type=\"number\" onChange={HandleProductChange} name=\"Price\" value={products[0].Price} /></dd>\r\n                        <dd className=\"text-danger\"><ErrorMessage name=\"Price\" /></dd>\r\n                        <dt>Stock</dt>\r\n                        <dd className=\"form-switch\"><Field className=\"form-check-input\" type=\"checkbox\" name=\"Stock\" checked={products[0].Stock} />Available</dd>\r\n                        <dd className=\"text-danger\"><ErrorMessage name=\"Stock\" /></dd>\r\n\r\n                    </dl>\r\n                    <button type=\"submit\" className=\"btn btn-success px-4\">Save</button>\r\n                    <Link className=\"ms-3\" to=\"/products\">View Products</Link>\r\n                </Form>\r\n            </Formik>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}