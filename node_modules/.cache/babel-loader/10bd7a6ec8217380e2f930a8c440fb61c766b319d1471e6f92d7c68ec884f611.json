{"ast":null,"code":"import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as yup from\"yup\";import{useNavigate,Link}from\"react-router-dom\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{toBeChecked}from\"@testing-library/jest-dom/matchers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function CrudCreate(){const navigate=useNavigate();const[products,setProducts]=useState([]);const[style,setStyle]=useState({});const[idError,setIdError]=useState(\"\");useEffect(()=>{axios({method:\"get\",url:\"http://127.0.0.1:8080/products\"}).then(response=>{setProducts(response.data);});},[]);function VerifyProductId(e){// alert(e.target.value);\nvar id=parseInt(e.target.value);for(var product of products){if(product.ProductID===id){setIdError(\"ProductId Taken - Please Try Another\");setStyle(\"text-danger\");break;}else{setIdError(\"ProductId is Available\");setStyle(\"text-success\");}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Product\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{ProductID:0,Name:\"\",Price:0,Stock:false},validationSchema:yup.object({ProductID:yup.number().required(\"ID is Required\").min(1),Name:yup.string().required(\"Name is Required\"),Price:yup.number().min(1).required(\"Required\"),Stock:yup.boolean()}),onSubmit:values=>{axios({method:\"post\",url:\"http://127.0.0.1:8080/addproducts\",data:values}).then(response=>{setProducts([...products,response.data]);alert(\"Product Added\");navigate(\"/products\");});},children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"ProductID\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Field,{type:\"number\",name:\"ProductID\",onKeyUp:VerifyProductId})}),/*#__PURE__*/_jsx(\"dd\",{className:style,children:idError}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"ProductID\"})}),/*#__PURE__*/_jsx(\"dt\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"Name\"})}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Name\"})}),/*#__PURE__*/_jsx(\"dt\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Field,{type:\"number\",name:\"Price\"})}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Price\"})}),/*#__PURE__*/_jsx(\"dt\",{children:\"Stock\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"form-switch\",children:[/*#__PURE__*/_jsx(Field,{className:\"form-check-input\",type:\"checkbox\",name:\"Stock\"}),\"Available\"]}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"Stock\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Add Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"ms-2\",children:\"View Products\"})]})})]});}","map":{"version":3,"names":["Formik","Form","Field","ErrorMessage","yup","useNavigate","Link","axios","useEffect","useState","toBeChecked","jsx","_jsx","jsxs","_jsxs","CrudCreate","navigate","products","setProducts","style","setStyle","idError","setIdError","method","url","then","response","data","VerifyProductId","e","id","parseInt","target","value","product","ProductID","className","children","initialValues","Name","Price","Stock","validationSchema","object","number","required","min","string","boolean","onSubmit","values","alert","type","name","onKeyUp","to"],"sources":["D:/Projects/Shopper/src/crud-operations/crud-create.js"],"sourcesContent":["import { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { toBeChecked } from \"@testing-library/jest-dom/matchers\";\r\n\r\nexport function CrudCreate() {\r\n    const navigate = useNavigate();\r\n    const [products, setProducts] = useState([]);\r\n    const [style, setStyle] = useState({});\r\n    const [idError, setIdError] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: \"get\",\r\n            url: \"http://127.0.0.1:8080/products\"\r\n        }).then((response) => {\r\n            setProducts(response.data);\r\n        })\r\n    }, []);\r\n\r\n    function VerifyProductId(e) {\r\n        // alert(e.target.value);\r\n        var id = parseInt(e.target.value);\r\n        for (var product of products) {\r\n            if (product.ProductID === id) {\r\n                setIdError(\"ProductId Taken - Please Try Another\");\r\n                setStyle(\"text-danger\");\r\n                break;\r\n            } else {\r\n                setIdError(\"ProductId is Available\");\r\n                setStyle(\"text-success\");\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <h2>Add New Product</h2>\r\n            <Formik\r\n                initialValues={{\r\n                    ProductID: 0,\r\n                    Name: \"\",\r\n                    Price: 0,\r\n                    Stock: false\r\n                }}\r\n                validationSchema={\r\n                    yup.object({\r\n                        ProductID: yup\r\n                            .number()\r\n                            .required(\"ID is Required\")\r\n                            .min(1),\r\n                        Name: yup\r\n                            .string()\r\n                            .required(\"Name is Required\"),\r\n                        Price: yup\r\n                            .number()\r\n                            .min(1)\r\n                            .required(\"Required\"),\r\n                        Stock: yup\r\n                            .boolean()\r\n                    })\r\n                }\r\n                onSubmit={\r\n                    (values) => {\r\n                        axios({\r\n                            method: \"post\",\r\n                            url: \"http://127.0.0.1:8080/addproducts\",\r\n                            data: values\r\n                        }).then((response) => {\r\n                            setProducts([...products, response.data]);\r\n                            alert(\"Product Added\");\r\n                            navigate(\"/products\");\r\n                        })\r\n                    }\r\n                }\r\n            >\r\n                {\r\n                    <Form>\r\n                        <dl>\r\n                            <dt>ProductID</dt>\r\n                            <dd>\r\n                                <Field type=\"number\" name=\"ProductID\" onKeyUp={VerifyProductId} />\r\n                            </dd>\r\n                            <dd className={style}>{idError}</dd>\r\n                            <dd className=\"text-danger\">{<ErrorMessage name=\"ProductID\" />}</dd>\r\n\r\n                            <dt>Name</dt>\r\n                            <dd>\r\n                                <Field type=\"text\" name=\"Name\" />\r\n                            </dd>\r\n                            <dd className=\"text-danger\">{<ErrorMessage name=\"Name\" />}</dd>\r\n\r\n                            <dt>Price</dt>\r\n                            <dd>\r\n                                <Field type=\"number\" name=\"Price\" />\r\n                            </dd>\r\n                            <dd className=\"text-danger\">{<ErrorMessage name=\"Price\" />}</dd>\r\n\r\n                            <dt>Stock</dt>\r\n                            <dd className=\"form-switch\">\r\n                                <Field className=\"form-check-input\" type=\"checkbox\" name=\"Stock\" />Available\r\n                            </dd>\r\n                            <dd className=\"text-danger\"><ErrorMessage name=\"Stock\" /></dd>\r\n\r\n                        </dl>\r\n                        <button className=\"btn btn-primary\" >Add Product</button>\r\n                        <Link to=\"/products\" className=\"ms-2\">View Products</Link>\r\n                    </Form>\r\n                }\r\n            </Formik>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}